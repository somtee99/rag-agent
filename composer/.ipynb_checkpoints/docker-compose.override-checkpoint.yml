

services:

  # During development we want to build our Docker image from relevant
  # Dockerfiles, as opposed to pulling it from a repository somewhere.

  lab:
    build: 
      context: notebooks
      dockerfile: composer/Dockerfile

  assessment:
    ports:
      - $DEV_ASSESSMENT_PORT:8080

  nginx:
    ports:
      - $DEV_NGINX_PORT:80

  docker_router:
    build: 
      context: notebooks/docker_router
      dockerfile: Dockerfile

  llm_client:
    build: 
      context: notebooks/llm_client
      dockerfile: Dockerfile_client
    env_file:
      - .env-dev  ## pass in your environment variable (i.e. NVIDIA_API_KEY)

  frontend:
    build: 
      context: notebooks/frontend
      dockerfile: Dockerfile

  frontend_rproxy:
    build: 
      context: notebooks/frontend
      dockerfile: Dockerfile

  chatbot:
    build: 
      context: notebooks/chatbot
      dockerfile: Dockerfile
    env_file:
      - .env-dev  ## pass in your environment variable (i.e. NVIDIA_API_KEY)

  chatbot_rproxy:
    build: 
      context: notebooks/chatbot
      dockerfile: Dockerfile
    env_file:
      - .env-dev  ## pass in your environment variable (i.e. NVIDIA_API_KEY)
